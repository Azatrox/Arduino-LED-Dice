/*⠀⢀⡀⠀⠀⠀⠀⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⠞⠋⠙⢳⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠸⣷⡀⠀⣿⡄⢹⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡾⠁⠀⠀⠀⠀⢻⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⣰⡇⠀⠹⣧⠀⣻⣧⠀⠉⠀⠀⠀⠀⠀⠀⢀⣀⣤⠤⠶⠒⠛⠓⠒⠒⠲⠦⢤⣌⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠘⣿⡀⠀⢻⣷⠛⠻⣇⠀⠘⠗⠀⣠⡴⠞⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠦⣤⡴⠞⠛⠋⠉⠛⢷⠀⠀⠀⠀
⠀⠘⣷⣴⠿⢿⣆⠀⠙⠃⠀⣠⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⢶⣄⠀⠀⠀⢸⠇⠀⠀⠀
⠀⢠⣿⡇⠀⢨⣿⡆⠀⢀⡼⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢦⡀⢀⡿⠀⠀⠀⠀
⠀⠈⠀⠛⠀⠀⠀⠀⢠⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⣾⠃⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢀⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⣆⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⡼⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⠛⠲⢦⣄
⠀⠀⠀⠀⠀⠀⢀⡇⠀⠀⠀⠀⠀⠀⣀⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⡀⠀⠀⠀⠀⠀⠀⢸⡇⠀⠀⣿
⠀⠀⠀⠀⠀⠀⢸⡇⠀⠀⠀⠀⠀⣾⣿⣿⣿⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⡆⠀⠀⠀⠀⠀⢸⣇⣤⠞⠁
⠀⠀⠀⠀⠀⠀⠘⡇⠀⠀⠀⠀⠀⠹⢿⣿⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⡿⠃⠀⠀⠀⠀⠀⢸⠋⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣄⣀⠀⠀⢀⣠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⡀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠘⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣿⠿⠿⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⠛⢷⡀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠈⢷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠓⠚⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡾⠁⠀⢸⡇⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠲⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⠞⠛⠲⠶⠶⠛⠁⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠲⠤⣄⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⡤⢴⡞⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡤⠼⠯⣉⡉⠛⠒⠒⠒⠒⠒⠛⢋⠉⠉⠹⣆⡼⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠱⣄⠀⠀⠈⠁⠀⠀⠀⠀⠀⣰⠋⠀⢀⡀⢹⡏⢳⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠏⠳⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠁⠀⠀⣷⡿⢶⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⡤⣴⠒⠞⠙⡆⠀⠀⠀⠀⡼⠙⠶⠲⡤⢄⣸⠛⠲⠷⣟⡇⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⡀⠀⠀⠀⠀⣽⠀⠀⠀⠀⡇⠀⠀⠀⠀⢸⡟⠀⠀⠀⣨⡇⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢤⣀⢀⣰⠃⠀⠀⠀⠀⢹⣄⠀⢀⣴⡿⠤⠴⠖⠚⠉⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠙⠛⠉⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
*/

int topright = 6;// topright LED Output
int topleft = 2;// topleft LED Output
int middleright = 7;// middleright LED Output
int middlecenter = 5;// middlecenter LED Output
int middleleft = 3;// middleleft LED Output
int bottomright = 8;// bottomright LED Output
int bottomleft = 4;// bottomleft LED Output
int button = 9;// button to roll the dice
int i = 1;// controls the speed of the dice
int b = 0;
int a = 0;
int c = 0;
int lastroll = 0;// i save the last roll in this variable

void roll1()//writes a 1 to the LEDs
{
  digitalWrite(middlecenter, HIGH);
  lastroll = 1;
}

void roll2()//writes a 2 to the LEDs
{
  digitalWrite(bottomright, HIGH);
  digitalWrite(topleft, HIGH);
   lastroll = 2;
}

void roll3()//writes a 3 to the LEDs
{
  digitalWrite(middlecenter, HIGH);
  digitalWrite(bottomright, HIGH);
  digitalWrite(topleft, HIGH);
  lastroll = 3;
}

void roll4()//writes a 4 to the LEDs
{
  digitalWrite(bottomright, HIGH);
  digitalWrite(bottomleft, HIGH);
  digitalWrite(topright, HIGH);
  digitalWrite(topleft, HIGH);
  lastroll = 4;
}

void roll5()//writes a 5 to the LEDs
{
  digitalWrite(bottomright, HIGH);
  digitalWrite(bottomleft, HIGH);
  digitalWrite(topright, HIGH);
  digitalWrite(topleft, HIGH);
  digitalWrite(middlecenter, HIGH);
  lastroll = 5;
}

void roll6()//writes a 6 to the LEDs
{
  digitalWrite(bottomright, HIGH);
  digitalWrite(bottomleft, HIGH);
  digitalWrite(topright, HIGH);
  digitalWrite(topleft, HIGH);
  digitalWrite(middleright, HIGH);
  digitalWrite(middleleft, HIGH);
  lastroll = 6;
}

void off()//turns all LEDs OFF
{
  digitalWrite(middlecenter, LOW);  
  digitalWrite(bottomright, LOW);
  digitalWrite(bottomleft, LOW);
  digitalWrite(topright, LOW);
  digitalWrite(topleft, LOW);
  digitalWrite(middleright, LOW);
  digitalWrite(middleleft, LOW);
}

void on()//turns all LEDs ON
{
  digitalWrite(middlecenter, HIGH);  
  digitalWrite(bottomright, HIGH);
  digitalWrite(bottomleft, HIGH);
  digitalWrite(topright, HIGH);
  digitalWrite(topleft, HIGH);
  digitalWrite(middleright, HIGH);
  digitalWrite(middleleft, HIGH);
}

void actualroll() {// this is the actual function that rolls the dice it uses noise on an analog port for the random seed
  int roll = random(1, 7);
  switch (roll) {
    case 1:
      roll1();
      Serial.println(lastroll);
      delay(i);
      break;
    case 2:
      roll2();
      Serial.println(lastroll);
      delay(i);
      break;
    case 3:
      roll3();
      Serial.println(lastroll);
      delay(i);
      break;
    case 4:
      roll4();
      Serial.println(lastroll);
      delay(i);
      break;
    case 5:
      roll5();
      Serial.println(lastroll);
      delay(i);
      break;
    case 6:
      roll6();
      Serial.println(lastroll);
      delay(i);
      break;
  }
  delay(i);
  off();
  delay(i);
}


void setup()
{
  pinMode(topright, OUTPUT);
  pinMode(middleright, OUTPUT);
  pinMode(bottomright, OUTPUT);
  pinMode(middlecenter, OUTPUT);
  pinMode(topleft, OUTPUT);
  pinMode(middleleft, OUTPUT);
  pinMode(bottomleft, OUTPUT);
  pinMode(button, INPUT);
  Serial.begin(9600);
  randomSeed(analogRead(0));
}


void loop()
{
  while(c == 0)
  {
    {    
      if (b == 1)
      {
        Serial.println("rolling now");
        Serial.println(i);
        actualroll();
        if (i < 1015)
        {
          i+= 15;
        }    
        if (i > 1000)
        {
          c = 1;
          break;
        }    
      } 
      if (digitalRead(button)== HIGH)
      {
        actualroll();
        a = 1;
      }
      if (digitalRead(button)== LOW && a == 1)
      {
        b = 1;
      }
    }
  }
  last();
}


void last()//ends the program spams last called and shows the last number rolled
{
  Serial.println("last called");
  if (c == 1)
  {
    if (lastroll == 1)
    {
      roll1();
    }
    if (lastroll == 2)
    {
      roll2();
    }
    if (lastroll == 3)
    {
      roll3();
    }
    if (lastroll == 4)
    {
      roll4();
    }
    if (lastroll == 5)
    {
      roll5();
    }
    if (lastroll == 6)
    {
      roll6();
    }
  }
}
    
